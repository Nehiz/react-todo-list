/*
  Enhanced App.css â€” polished styles for react-todo-list

  Features:
  - Theme variables (dark/light)
  - Focus rings and accessible states
  - Smooth add/remove item animations
  - Responsive layout and compact mobile behavior
  - Utility helpers and reduced-motion respect
*/

/* Palette & tokens */
:root{
  --bg-900: #020417;
  --bg-800: #051026;
  /* base background is a subtle vertical gradient built from palette tokens */
  --background: linear-gradient(180deg, var(--bg-900) 0%, var(--bg-800) 100%);
  --surface: #071328;
  --card: #071828;
  --muted: #94a3b8;
  --text: #e6eef8;
  --accent: #7c3aed; /* violet (secondary accents) */
  --accent-600: #6d28d9;
  /* Primary action accent (Add button and new-item focus) */
  --accent-action: #ff7a59; /* warm orange to stand out on dark */
  /* Input background to make the new-item field stand out slightly */
  --input-bg: rgba(255,255,255,0.03);
  --success: #10b981;
  --danger: #ef4444;
  --glass: rgba(255,255,255,0.03);

  --radius-lg: 12px;
  --radius-md: 10px;
  --gap-sm: 8px;
  --gap-md: 12px;
  --max-width: 720px;
}

/* Light theme override (apply `.light-theme` on body or .app-root) */
.light-theme{
  --bg-900: #f6f8fb;
  --bg-800: #ffffff;
  --card: #ffffff;
  --surface: #f7f9fc;
  --muted: #64748b;
  --text: #0b1220;
  --glass: rgba(11,18,32,0.03);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce){
  .animate { transition: none !important; transform: none !important; }
}

/* Base page layout */

/* App background: layered animated gradient + subtle noise overlay */
.app-root{
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  position:relative;
  min-height:100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:48px 20px;
  box-sizing:border-box;
  color:var(--text);
  /* Base background (can be a solid color or gradient via --background) */
  background: var(--background);
  overflow:hidden; /* contain animated layers */
}

/* Animated gradient layer */
.app-root::before{
  content:"";
  position:absolute;
  inset: -20% -10% -20% -10%;
  z-index:0;
  background: radial-gradient(800px 400px at 10% 20%, rgba(124,58,237,0.12), transparent 12%),
              radial-gradient(600px 300px at 90% 80%, rgba(59,130,246,0.08), transparent 12%),
              linear-gradient(180deg, rgba(2,6,23,0.35), rgba(4,8,16,0.6));
  filter: blur(30px) saturate(110%);
  transform: translateZ(0);
  animation: bg-rotate 28s linear infinite;
  pointer-events:none;
}

@keyframes bg-rotate{
  0%{ transform: translateZ(0) rotate(0deg); }
  50%{ transform: translateZ(0) rotate(6deg); }
  100%{ transform: translateZ(0) rotate(0deg); }
}

/* Subtle noise/texture overlay for depth (data-uri SVG) */
.app-root::after{
  content:"";
  position:absolute;
  inset:0;
  z-index:1;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='120' height='120' ><filter id='n'><feTurbulence baseFrequency='0.8' numOctaves='2' stitchTiles='stitch'/><feColorMatrix type='saturate' values='0'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.06' /></svg>");
  opacity:0.7;
  mix-blend-mode:overlay;
  pointer-events:none;
}

/* Ensure card content sits above background layers */
.todo-app{ position:relative; z-index:2; }

.todo-app{
  width:100%;
  max-width:var(--max-width);
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
  border-radius:var(--radius-lg);
  padding:28px;
  box-shadow: 0 10px 30px rgba(2,6,23,0.55), inset 0 1px 0 var(--glass);
  border: 1px solid rgba(255,255,255,0.03);
}

/* Header */
.todo-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--gap-md);
  margin-bottom:18px;
}

.todo-header h1{
  margin:0;
  font-size:20px;
  color:var(--text);
  letter-spacing:0.2px;
}

  position:relative;
  z-index:3; /* keep the form above other layers */
.todo-header .subtitle{
  color:var(--muted);
  font-size:13px;
}

/* Input area */
.todo-input-area{
  display:flex;
  gap:10px;
  align-items:center;
  margin-bottom:16px;
}

.todo-input{
  flex:1 1 auto;
  padding:12px 14px;
  border-radius:var(--radius-md);
  border:1px solid rgba(255,255,255,0.04);
  background: var(--input-bg); /* slightly lifted from page */
  color:var(--text);
  outline:none;
  font-size:14px;
  transition:box-shadow .12s ease, transform .06s ease, border-color .12s ease;
}

.todo-input::placeholder{ color: var(--muted); }

.todo-input:focus{
  box-shadow: 0 10px 30px rgba(255,122,89,0.08); /* subtle glow using action color */
  transform:translateY(-1px);
  border-color: var(--accent-action);
}

/* Buttons */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:10px 12px;
  border-radius:10px;
  font-weight:600;
  font-size:14px;
  cursor:pointer;
  border:none;
  background:transparent;
  color: var(--text);
  transition: transform .08s ease, box-shadow .12s ease, opacity .12s ease;
}

.btn:active{ transform: translateY(1px); }

.btn-primary{
  background: linear-gradient(180deg,var(--accent-action), #ff6b3f);
  box-shadow: 0 10px 26px rgba(255,122,89,0.14);
  color: white;
}

.btn-primary:hover{ transform: translateY(-2px); box-shadow: 0 16px 36px rgba(255,122,89,0.18); }
.btn-primary:focus-visible{ outline:none; box-shadow: 0 0 0 6px rgba(255,122,89,0.12); }

.btn-muted{
  background: rgba(255,255,255,0.02);
  color: var(--text);
}

.btn-icon{
  padding:8px;
  width:36px;
  height:36px;
  border-radius:8px;
}

.btn-danger{
  background: transparent;
  color: var(--danger);
}

.btn-delete{
  background: transparent;
  color: var(--muted);
  font-size:20px;
  line-height:1;
}

/* List */
.todo-list{
  list-style:none;
  margin:0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:10px;
}

.todo-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding:12px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
  border-radius:10px;
  border: 1px solid rgba(255,255,255,0.02);
  transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
}

.todo-item:hover{ transform: translateY(-3px); box-shadow: 0 8px 20px rgba(2,6,23,0.25); }

.todo-check{
  display:flex;
  gap:12px;
  align-items:center;
  cursor:pointer;
  flex:1 1 auto;
}

.todo-check input[type="checkbox"]{
  width:18px;
  height:18px;
  accent-color: var(--accent);
}

.todo-text{
  color:var(--text);
  font-size:15px;
}

.todo-item.completed .todo-text{
  color:var(--muted);
  text-decoration: line-through;
  opacity:0.85;
}

/* Animations for adding/removing items */
.todo-item.animate-enter{ animation: enter .28s cubic-bezier(.2,.9,.3,1) both; }
.todo-item.animate-exit{ animation: exit .18s cubic-bezier(.4,.0,.2,1) both; }

@keyframes enter{
  from{ transform: translateY(-8px) scale(.995); opacity:0 }
  to{ transform: translateY(0) scale(1); opacity:1 }
}

@keyframes exit{
  from{ opacity:1; transform: translateY(0) }
  to{ opacity:0; transform: translateY(-6px) scale(.995) }
}

.meta{
  display:flex;
  gap:12px;
  align-items:center;
  color:var(--muted);
  font-size:13px;
}

/* Empty state */
.empty-state{
  text-align:center;
  color:var(--muted);
  padding:28px 16px;
  border-radius:8px;
  background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
}

/* Accessible focus helpers */
.focus-ring:focus{ box-shadow: 0 0 0 4px rgba(124,58,237,0.12); outline: none; }

/* Small screen adjustments */
@media (max-width:640px){
  .todo-app{ padding:18px; border-radius:10px; }
  .todo-input-area{ flex-direction:column; align-items:stretch; }
  .btn{ width:100%; }
  .todo-item{ padding:10px; }
}

/* Utilities */
.hidden{ display:none !important; }
.sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }
